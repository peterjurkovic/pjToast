"use strict";var pjToast=angular.module("pjToast.directives",["pjToast.factories"]);pjToast.directive("toast",["Toast","$log","$window","$timeout",function(a,b,c,d){return{restrict:"EA",replace:!0,template:'<div class="{{config.wrappClassName}}" ng-show="message" ><toast-message message="message"></toast-message></div>',link:function(b,e){b.config=a.config();var f=function(a){function b(){return Math.max(0,c.scrollY+c.innerHeight-2*a[0].offsetHeight)}function d(){return Math.max(0,(c.innerWidth-a[0].offsetWidth)/2+c.scrollX)}a.css("z-index","999").css("position","absolute").css("top",b()+"px").css("left",d()+"px")};b.resize=function(){d(function(){f(e)},0)},b.resize();var g=function(){b.message=a.getActiveMessage(),b.resize()};a.registerCallback(g),b.$on("$destroy",function(){a.unregisterCallback()}),b.config.centerOnScroll&&angular.element(c).bind("scroll",function(){b.message&&b.resize()})}}}]),pjToast.directive("toastMessage",["$timeout","$compile","Toast",function(a,b,c){return{restrict:"EA",scope:{message:"="},template:'<div class="alert alert-{{message.msgClassName}}">{{message.content}}<button type="button" class="close" ng-if="message.dismissButton" ng-bind-html="message.dismissButtonHtml" ng-click="!message.dismissOnClick && dismiss()"></button></div>',link:function(b,d){b.$watch("message",function(){b.message.dismissOnTimeout&&a(function(){b.message=c.dismiss()},b.message.timeout),b.message.dismissOnClick&&d.bind("click",function(){b.message=c.dismiss()})})}}}]),function(a,b){b.module("pjToast",["ngSanitize","pjToast.directives","pjToast.factories"])}(window,window.angular);